{% comment %}
============= Warning: DO NOT EDIT THIS FILE UNLESS YOU KNOW WHAT YOU'RE DOING! =============

Please beware that editting this file could break your site as it's referenced in your theme's main theme.liquid file!

Also, if you're testing changes, please do so on a duplicate theme to avoid downtime for your users!

Instructions:
1) create a file named 'cross-sell-custom' inside of your Snippets folder.
Once created it SHOULD say 'cross-sell-custom.liquid' IF NOT, rename it.
2) make sure the 3 lines of code below are added BEFORE the </head> element of your theme.liquid file (or main theme file)

<!-- Cross Sell custom code start. Do not change -->
{%include 'cross-sell-custom'%}
<!-- Cross Sell custom code end. Do not change -->

3) Make sure you to SAVE the changes made to your theme.liquid file
4) Have Cross Sell's Settings -> Display Settings set to "custom" theme, and activate the carousel feature if needed.
5) Save your Settings

Have problems or feedback? DON'T PANIC! Email us at support@csell.co or check out support site -> https://help.csell.co

============= Warning: DO NOT EDIT THIS FILE UNLESS YOU KNOW WHAT YOU'RE DOING! =============
{% endcomment %}

<style type="text/css">
@import url('https://fonts.googleapis.com/css?family=Lato:400,700');

#cross-sell {
  display: block;
  clear: both;
  width: 100%;
  margin: 25px auto;
}

h3.crosssell-title {
  margin: 25px 0;
  text-align: center;
}

.cross-sell *{
  font-size: initial;
}

.cross-sell *,
.cross-sell ::after,
.cross-sell ::before {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.cross-sell {
  text-align: center;
}

.xs-card {
  text-align: center;
  vertical-align: top;
  margin: 10px;
  width: 100%;
  max-width: 350px;
  max-height: 200px;
  display: inline-block;
  background: #fff;
  border: 1px solid rgba(172, 172, 172, 0.1);
  -webkit-box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
  -moz-box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
  border-radius: 5px;
}

.xs-card::after {
  clear: both;
  content: "";
  display: table;
}

.xs-card .xs-card-body{
  display: table;
  display: flex;
  align-items: center;
  position: relative;
}

.xs-card .xs-content {
  padding: 0.5em;
}

.xs-card .xs-card-body img.xs-image {
  max-height: 150px;
  width: auto;
  vertical-align: top;
}

.xs-card .xs-content h3,
.xs-card .xs-content h4 {
  color: #111868;
  text-transform: uppercase;
}

.xs-card .xs-content .xs-product-title {
  margin: 0;
  font-weight: 700;
  font-size: 16px;
  text-transform: uppercase;
}

.xs-card .xs-content .xs-product-details {
  margin: 0;
}

.xs-card .xs-card-body .xs-vendor{
  font-size: 15px;
  text-transform: uppercase;
}

.xs-card .xs-content .break {
  display: none;
  position: relative;
  margin: 1em 0;
  width: 100px;
  height: 2px;
  background: #ebeff0;
}

.xs-card .xs-content .price {
  display: block;
  font-size: 16pxx;
  color: #cb103f;
}

.xs-card .xs-compare-at-price {
  padding-right: 5px;
  display: inline-block;
  text-decoration: line-through;
  color: rgba(33, 37, 41, 0.7);
}

.xs-card .xs-sale-price {
  display: inline-block;
}

.xs-card .xs-sales-badge {
  position: absolute;
  left: 0px;
  top: 0px;
  z-index: 1;
  border: 2px solid #cb103f;
  background-color: #fff;
  padding: 0px 4px;
  border-radius: 4px;
  color: #cb103f;
  font-size: 13px !important;
}
.cross-sell {
  margin-left: 50px;
  margin-right: 50px;
}
.cross-sell .flickity-prev-next-button.previous{
  left:-40px;
}
.cross-sell .flickity-prev-next-button.next{
  right:-40px;
}
#cross-sell *{font-family: inherit !important;}
.xsell__modal .xsell__modal-content{font-family: inherit !important;}
.cross-sell.xs-v2 .xs-card .xs-card-body .xs-price{font-weight:700; font-size:18px;color:black;margin-top:10px;color:#ED47A7 !important;}
h3.crosssell-title{text-transform:uppercase;border-bottom: 3px solid #000 !important;}
#cross-sell{background:#ECF0F1;}
.cross-sell .xsell-atc{text-align:center;margin-top:10px;margin-bottom:10px;}
</style>
<script>
  window.xsellCustom = window.xsellCustom || {};
  window.xsellCustom.theme_settings = window.xsellCustom.theme_settings || {};
  window.xsellCustom.buildxsellsoutput = function(xsellitems, numproducts){
   	var xsmustbeavailable = xsellSettings.xsmustbeavailable;
   	var xshideifincart = xsellSettings.xshideifincart;
   	var xsdisplaycompareatprice = xsellSettings.xsdisplaycompareatprice;
   	var xsdisplaysalebadge = xsellSettings.xsdisplaysalebadge;
   	var xsdisplaypricevarieslabel = xsellSettings.xsdisplaypricevarieslabel;
   	var xsdisplayvendor = xsellSettings.xsdisplayvendor;
    var xsimagesize = 'large';
    var xsvendoroutput = '';
    var xspricevarieslabel = '';
    var xscompareatprice = '';
    var xscompareatpricestring = '';
  	var xssalepricestring = '';
   	var xspriceoutput = '';
    var xssalebadge = '<span class="badge badge--sale"><span class="badge__text">SALE</span></span>';
  	var xssalebadgeoutput = '';
    var saleclass = ' xs-sale';
    var fromlabel = '<em>from</em>';
    var xsprice = '';

    // add custom variables here

    for(var x=0; x < numproducts; x++) {
    	var xsproductdata = xsellitems[x];
      if(xsproductdata.images.length > 1) {
        var csimage = xsellLib.productimageurls(xsproductdata.images[0]);
        var csimagetwo = xsellLib.productimageurls(xsproductdata.images[1]);
      }
      else if(xsproductdata.images.length == 1) {
        var csimage = xsellLib.productimageurls(xsproductdata.images[0]);
        var csimagetwo = 'https://cdn.shopify.com/s/images/admin/no-image-'+xsimagesize+'.gif';
      }
      else {
        var csimage = 'https://cdn.shopify.com/s/images/admin/no-image-'+xsimagesize+'.gif';
        var csimagetwo = csimage;
      }
      if(xsdisplayvendor) {
        xsvendoroutput = '<div class="xs-vendor-name"><a href="' + xsproductdata.url +'">' + xsproductdata.vendor + '</a></div>';
      }

      xsprice = xsellLib.xsformatMoney(xsproductdata.price, '{{ shop.money_format }}');
      if(xsdisplaypricevarieslabel) {
      	if(xsproductdata.price_varies) {
            xspricevarieslabel = 'From: ';
        	}
        	else {
          	xspricevarieslabel = '';
        	}
      }             xspriceoutput = '<div class="money"><a href="' + xsproductdata.url +'">' + xspricevarieslabel + xsprice + '</a></div>';             if(xsdisplaycompareatprice)
      {

      if(!xsproductdata.price_varies && (xsproductdata.compare_at_price > xsproductdata.price)) {
             xscompareatprice = xsellLib.xsformatMoney(xsproductdata.compare_at_price, '{{ shop.money_format }}');
            xscompareatpricestring = '<span class="xs-compare-at-price">' + xscompareatprice + '</span>';
            xssalepricestring = '<span class="xs-sale-price"><a href="' + xsproductdata.url +'">' + xsprice + '</a></span>';
            xspriceoutput = '<div class="money' + saleclass + '">' + xscompareatpricestring + ' ' + xspricevarieslabel + xssalepricestring + '</div>';
        }
      }
      if(xsdisplaysalebadge) {
        if(xsproductdata.compare_at_price > xsproductdata.price) {
          xssalebadgeoutput = xssalebadge;
        }
        else {
          xssalebadgeoutput = '';
        }
      }

      xsellLib.xselloutput += '<div class="xs-card" data-xsorder="' + xsproductdata["order"] + '">'
                           + '<div class="xs-card-body">'
                           + xssalebadgeoutput
                           +'<div class="xs-image-wrapper">'
                           + '<a href="'+xsproductdata.url+'">'
                           + '<img class="xs-image" alt="'+xsproductdata.title+'" src="'+csimage+'">'
                           + '</a>'
                           + '</div>'
                           + '<div class="xs-content">'
                           + '<a href="'+xsproductdata.url+'">'
                           + '<div class="xs-product-title">'+xsproductdata.title+'</div>'
                           + '</a>'
                           + '<span class="break"></span>'
                           + '<div class="xs-product-vendor">'+xsvendoroutput+'</div>'
                           + '<span class="price">'+xspriceoutput+'</span>'

                           + '</div>'

                           + '</div>'
                           + '<form method="post" action="/cart/add" class="xsell-atc"> <input type="hidden" name="id" value="'+xsproductdata.variants[0].id +'" /> <input type="submit" value="Add to Cart" class="btn" /> </form>'

                           + '</div>';
    }
    if(xsellLib.xselloutput != ''){
      var xsellDiv = document.createElement('div');
      xsellDiv.innerHTML = '<h3 class="crosssell-title">' + xsellLib.settings.xstitle + '</h3><div id="cross-sells" class="xs-theme--xsell_landscape cross-sell">' + xsellLib.xselloutput + '</div>'; //output here
      document.getElementById('cross-sell').appendChild(xsellDiv);
    }
  }
</script>
